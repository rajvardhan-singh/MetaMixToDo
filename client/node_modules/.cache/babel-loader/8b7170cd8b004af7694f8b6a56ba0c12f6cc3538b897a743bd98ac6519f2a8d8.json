{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajvardhan\\\\Desktop\\\\MetaMixToDo\\\\client\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Card from './Card';\nimport classes from './Login.module.css';\nimport Button from './Button';\nimport { logIn } from '../redux/actions';\nimport { useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = props => {\n  _s();\n  const [enteredEmail, setEnteredEmail] = useState('');\n  const [emailIsValid, setEmailIsValid] = useState();\n  const [enteredPassword, setEnteredPassword] = useState('');\n  const [passwordIsValid, setPasswordIsValid] = useState();\n  const [enteredUser, setEnteredUser] = useState(\"\");\n  const [userIsValid, setUserIsValid] = useState(true);\n  const [formIsValid, setFormIsValid] = useState(false);\n  const [error, setError] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const isValidLogin = useSelector(state => state.isValidLogin);\n\n  // useEffect(()=>{\n  //   if(!isValidLogin){\n  //     setError(true)\n  //   }\n  // },[isValidLogin])\n\n  const emailChangeHandler = event => {\n    setEnteredEmail(event.target.value);\n    setFormIsValid(event.target.value.includes('@') && enteredPassword.trim().length > 6 && enteredUser !== \"\");\n  };\n  const passwordChangeHandler = event => {\n    setEnteredPassword(event.target.value);\n    setFormIsValid(event.target.value.trim().length > 6 && enteredEmail.includes('@') && enteredUser !== \"\");\n  };\n  const validateEmailHandler = () => {\n    setEmailIsValid(enteredEmail.includes('@'));\n  };\n  const validatePasswordHandler = () => {\n    setPasswordIsValid(enteredPassword.trim().length > 6);\n  };\n  const usernameChangeHandler = event => {\n    setEnteredUser(event.target.value);\n    setFormIsValid(event.target.value !== \"\" && enteredEmail.includes('@') && enteredPassword.trim().length > 6);\n  };\n  const validateUsernameHandler = event => {\n    setUserIsValid(enteredUser !== \"\");\n  };\n  const signUpHandler = () => {\n    navigate('/signup');\n  };\n\n  //on submitting form\n  const submitHandler = event => {\n    event.preventDefault();\n\n    //api call\n    dispatch(logIn({\n      email: enteredEmail,\n      password: enteredPassword,\n      username: enteredUser,\n      date: new Date().toDateString()\n    })).then(() => {\n      //if valid detail go to add task page\n      if (!isValidLogin) navigate('/addtask');else setError(true);\n    });\n\n    // props.onLogin(enteredEmail, enteredPassword);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.login,\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${classes.control} ${emailIsValid === false ? classes.invalid : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"E-Mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email\",\n          value: enteredEmail,\n          onChange: emailChangeHandler,\n          onBlur: validateEmailHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${classes.control} ${userIsValid === false ? classes.invalid : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"UserName\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          value: enteredUser,\n          onChange: usernameChangeHandler,\n          onBlur: validateUsernameHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${classes.control} ${passwordIsValid === false ? classes.invalid : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          value: enteredPassword,\n          onChange: passwordChangeHandler,\n          onBlur: validatePasswordHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.actions,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          className: classes.btn,\n          disabled: !formIsValid,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.actions,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"button\",\n          className: classes.btn,\n          onClick: signUpHandler,\n          children: \"SignUp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Sorry,wrong detail entered!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"wvOy40tjzUMqJ2Pyi6zz4g9bBtY=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","Card","classes","Button","logIn","useNavigate","useEffect","Login","props","enteredEmail","setEnteredEmail","emailIsValid","setEmailIsValid","enteredPassword","setEnteredPassword","passwordIsValid","setPasswordIsValid","enteredUser","setEnteredUser","userIsValid","setUserIsValid","formIsValid","setFormIsValid","error","setError","dispatch","navigate","isValidLogin","state","emailChangeHandler","event","target","value","includes","trim","length","passwordChangeHandler","validateEmailHandler","validatePasswordHandler","usernameChangeHandler","validateUsernameHandler","signUpHandler","submitHandler","preventDefault","email","password","username","date","Date","toDateString","then","login","control","invalid","actions","btn"],"sources":["C:/Users/Rajvardhan/Desktop/MetaMixToDo/client/src/components/Login.js"],"sourcesContent":["import React, {  useState } from 'react';\r\nimport { useDispatch,useSelector } from 'react-redux';\r\n\r\nimport Card from './Card';\r\nimport classes from './Login.module.css';\r\nimport Button from './Button';\r\nimport { logIn } from '../redux/actions';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\n\r\nconst Login = (props) => {\r\n\r\n  const [enteredEmail, setEnteredEmail] = useState('');\r\n  const [emailIsValid, setEmailIsValid] = useState();\r\n  const [enteredPassword, setEnteredPassword] = useState('');\r\n  const [passwordIsValid, setPasswordIsValid] = useState();\r\n  const [enteredUser,setEnteredUser]=useState(\"\")\r\n  const [userIsValid,setUserIsValid] =useState(true)\r\n  const [formIsValid, setFormIsValid] = useState(false);\r\n\r\n  const [error,setError] = useState(false)\r\n\r\n  const dispatch = useDispatch()\r\n  const  navigate = useNavigate()\r\n  const isValidLogin = useSelector(state=>state.isValidLogin)\r\n\r\n  // useEffect(()=>{\r\n  //   if(!isValidLogin){\r\n  //     setError(true)\r\n  //   }\r\n  // },[isValidLogin])\r\n\r\n  const emailChangeHandler = (event) => {\r\n    setEnteredEmail(event.target.value);\r\n\r\n    setFormIsValid(\r\n      event.target.value.includes('@') && enteredPassword.trim().length > 6 && enteredUser!==\"\"\r\n    );\r\n  }\r\n\r\n  const passwordChangeHandler = (event) => {\r\n    setEnteredPassword(event.target.value);\r\n\r\n    setFormIsValid(\r\n      event.target.value.trim().length > 6 && enteredEmail.includes('@') && enteredUser!==\"\"\r\n    );\r\n  };\r\n\r\n  const validateEmailHandler = () => {\r\n    setEmailIsValid(enteredEmail.includes('@'));\r\n  };\r\n\r\n  const validatePasswordHandler = () => {\r\n    setPasswordIsValid(enteredPassword.trim().length > 6);\r\n  };\r\n\r\n  const usernameChangeHandler=(event)=>{\r\n      setEnteredUser(event.target.value)\r\n      setFormIsValid(\r\n        event.target.value!==\"\" && enteredEmail.includes('@') && enteredPassword.trim().length > 6\r\n      )\r\n  }\r\n\r\n  const validateUsernameHandler=(event)=>{\r\n    setUserIsValid(enteredUser!==\"\")\r\n  }\r\n\r\n  const signUpHandler=()=>{\r\n    navigate('/signup')\r\n  }\r\n\r\n\r\n  //on submitting form\r\n  const submitHandler = (event) => {\r\n\r\n    event.preventDefault();\r\n\r\n    //api call\r\n    dispatch(logIn({\r\n      email:enteredEmail,\r\n      password:enteredPassword,\r\n      username:enteredUser,\r\n      date:new Date().toDateString()\r\n    })).then(()=>{\r\n\r\n      //if valid detail go to add task page\r\n      if(!isValidLogin) navigate('/addtask')\r\n      else setError(true)\r\n    })\r\n    \r\n    \r\n\r\n\r\n   // props.onLogin(enteredEmail, enteredPassword);\r\n    \r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <Card className={classes.login}>\r\n      <form onSubmit={submitHandler}>\r\n\r\n        <div\r\n          className={`${classes.control} ${\r\n            emailIsValid === false ? classes.invalid : ''\r\n          }`}\r\n        >\r\n          <label htmlFor=\"email\">E-Mail</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            value={enteredEmail}\r\n            onChange={emailChangeHandler}\r\n            onBlur={validateEmailHandler}\r\n          />\r\n        </div>\r\n\r\n        <div\r\n          className={`${classes.control} ${\r\n            userIsValid === false ? classes.invalid : ''\r\n          }`}\r\n        >\r\n          <label htmlFor=\"username\">UserName</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            value={enteredUser}\r\n            onChange={usernameChangeHandler}\r\n            onBlur={validateUsernameHandler}\r\n          />\r\n        </div>\r\n\r\n\r\n        <div\r\n          className={`${classes.control} ${\r\n            passwordIsValid === false ? classes.invalid : ''\r\n          }`}\r\n        >\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={enteredPassword}\r\n            onChange={passwordChangeHandler}\r\n            onBlur={validatePasswordHandler}\r\n          />\r\n        </div>\r\n        <div className={classes.actions}>\r\n          <Button type=\"submit\" className={classes.btn} disabled={!formIsValid}>\r\n            Login\r\n          </Button>\r\n        </div>\r\n\r\n        <div className={classes.actions}>\r\n          <Button type=\"button\" className={classes.btn} onClick={signUpHandler}>\r\n            SignUp\r\n          </Button>\r\n        </div>\r\n        \r\n        {error && \r\n            <div>\r\n              <h3>Sorry,wrong detail entered!</h3>\r\n            </div>\r\n        }\r\n\r\n      </form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}